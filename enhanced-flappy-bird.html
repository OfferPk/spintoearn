<!DOCTYPE html>
<html>
<head>
    <title>Flappy Forest Flight - Enhanced Edition</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            touch-action: manipulation;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        @font-face {
            font-family: 'GameFont';
            src: url('https://fonts.googleapis.com/css2?family=Bangers&display=swap');
        }
        
        :root {
            --primary-color: #4CAF50;
            --secondary-color: #FF9800;
            --accent-color: #FFD700;
            --dark-color: #003300;
            --light-color: #8BC34A;
            --danger-color: #FF5252;
            --bird-color-1: #FF9800;
            --bird-color-2: #F57C00;
            --bird-color-3: #E65100;
        }
        
        body {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background: linear-gradient(to bottom, var(--dark-color), #001a00);
            overflow: hidden;
            font-family: 'Bangers', 'Arial', sans-serif;
            position: relative;
        }
    </style>
    <!-- Include original game styles -->
    <link rel="stylesheet" href="original-styles.css">
    <!-- Include new feature styles -->
    <link rel="stylesheet" href="screen-rotation.css">
    <link rel="stylesheet" href="referral-system.css">
    <link rel="stylesheet" href="mystery-box.css">
</head>
<body>
    <div id="game-container">
        <canvas id="game-canvas"></canvas>
        
        <!-- UI Elements -->
        <div id="score-display" class="game-ui">0</div>
        <div id="health-bar-container">
            <div id="health-bar"></div>
        </div>
        <div id="power-bar-container">
            <div id="power-bar"></div>
        </div>
        <div id="power-up-notification" class="game-ui"></div>
        <div id="combo-display" class="game-ui">x1 COMBO!</div>
        
        <!-- Mobile Controls -->
        <div id="mobile-controls">
            <div class="mobile-button" id="mobile-up"><i class="fas fa-arrow-up"></i></div>
            <div class="mobile-button" id="mobile-down"><i class="fas fa-arrow-down"></i></div>
        </div>
        
        <!-- Game Overlays -->
        <div id="start-screen" class="game-overlay active">
            <h1 class="overlay-title">Flappy Forest Flight</h1>
            <p class="overlay-text">Enhanced Edition</p>
            <button id="start-button" class="overlay-button">Start Game</button>
            <button id="spin-to-win-button" class="overlay-button" style="margin-top: 10px;">Spin to Win</button>
            <!-- New buttons will be added here by JavaScript -->
        </div>
        
        <div id="game-over-screen" class="game-overlay">
            <h1 class="overlay-title">Game Over</h1>
            <p class="overlay-text">Score: <span id="final-score">0</span></p>
            <p class="overlay-text">High Score: <span id="high-score">0</span></p>
            <button id="restart-button" class="overlay-button">Play Again</button>
        </div>
        
        <div id="pause-screen" class="game-overlay">
            <h1 class="overlay-title">Game Paused</h1>
            <button id="resume-button" class="overlay-button">Resume</button>
        </div>
        
        <!-- Spin to Win Game Overlay -->
        <div id="spin-to-win-screen" class="game-overlay">
            <h1 class="overlay-title">Spin to Win</h1>
            
            <div class="spin-wheel-container">
                <div class="spin-wheel" id="spin-wheel">
                    <!-- Wheel segments will be generated by JavaScript -->
                </div>
                <div class="wheel-center"></div>
                <div class="wheel-pointer"></div>
            </div>
            
            <div class="currency-options">
                <button class="currency-button crypto active" id="btn-crypto">
                    <i class="fas fa-coins"></i> Crypto
                </button>
                <button class="currency-button inr" id="btn-inr">
                    <span>₹</span> INR
                </button>
                <button class="currency-button usd" id="btn-usd">
                    <span>$</span> USD
                </button>
                <button class="currency-button pkr" id="btn-pkr">
                    <span>₨</span> PKR
                </button>
            </div>
            
            <button id="spin-button" class="spin-button">SPIN</button>
            
            <div class="result-display">
                <div class="result-amount" id="result-amount"></div>
                <div class="result-message" id="result-message">Select a currency and spin the wheel!</div>
            </div>
            
            <button id="return-button" class="overlay-button">Return to Menu</button>
        </div>
    </div>

    <!-- Include original game script -->
    <script src="original-game.js"></script>
    <!-- Include new feature scripts -->
    <script src="screen-rotation.js"></script>
    <script src="referral-system.js"></script>
    <script src="mystery-box.js"></script>
    
    <script>
        // Extract original game code to original-game.js and original-styles.css
        // This script handles integration of new features
        
        document.addEventListener('DOMContentLoaded', function() {
            console.log("Initializing enhanced Flappy Bird game...");
            
            // Initialize game components
            if (typeof initGame === 'function') {
                // Original game initialization will trigger the new features
                // through the hooks we've added in each feature script
                initGame();
            } else {
                console.error("Game initialization function not found!");
            }
        });
    </script>
</body>
</html>
